<style>
  .breadcrumb-wrapper__bg::after {
    content: "";
    position: absolute;
    inset: 0;
    background: rgba(0, 0, 0, 0.8);
    z-index: 2;
    pointer-events: none;
  }


  .breadcrumb-wrapper .container,
  .breadcrumb-wrapper .breadcrumb-wrapper__content {
    position: relative;
    z-index: 3;
  }

  .card-qrcode {
    transition: transform .3s ease;
  }

  .card-qrcode:hover {
    transform: scale(1.05);
  }
</style>

<div class="breadcrumb-wrapper z-index-common overflow-hidden">
  <div class="breadcrumb-wrapper__bg wow animate__fadeInUp" data-wow-delay="0.15s" data-vs-gsap-parallax-speed="2"
    data-vs-gsap-parallax-zoom>
    <img src="/assets/img/paralax/p12.jpeg" alt="session bg" />
  </div>
  <div class="container">
    <div class="breadcrumb-wrapper__content wow animate__fadeInUp" data-wow-delay="0.45s">
      <h1 class="breadcrumb-wrapper__title">Download Qr for Games !</h1>
      <div class="breadcrumb-wrapper__menu--wrap">
        <ul class="breadcrumb-wrapper__menu">
          <li class="breadcrumb-wrapper__menu--item"><a href="/">Home</a></li>
          <li class="breadcrumb-wrapper__menu--item">Download Qr</li>
        </ul>
      </div>
    </div>
  </div>
  <div class="vs-balls vs-balls--screen" data-balls-bottom="-6px" data-balls-color="#ffffff"></div>
</div>
<section class="vs-room--area space space-extra-bottom z-index-common parallax-wrap overflow-hidden"
  data-bg-src="/assets/img/rooms/room-bg.png">
  <img class="vs-room__ele1 parallax-element" src="/assets/img/rooms/room-ele1.png" alt="room ele1" data-move="100" />
  <img class="vs-room__ele2 parallax-element" src="/assets/img/rooms/room-ele2.png" alt="room ele1" data-move="60" />
  <div class="container">
    <div class="row align-items-center">
      <div class="col-lg-5 mb-50 wow animate__fadeInUp" data-wow-delay="0.25s">
        <div class="vs-title pe-xl-3 mb-0 title-anime animation-style2">
          <div class="title-anime__wrap">
            <span class="vs-title__sub">Ayo, Dengar dan Tebak!</span>
            <h2 class="vs-title__main pe-xl-4">Belajar Bagian Tubuh Jadi Lebih Asyik</h2>
          </div>
          <p class="vs-title__text text-capitalize fw-medium mb-0">
            Pilih QR-nya, scan, lalu dengarkan suara petunjuknya!
            Anak-anak bisa belajar mengenal bagian tubuh seperti bahu, perut, tangan, dan lainnya
            dengan cara super menyenangkan. Belajar jadi permainan!
          </p>
        </div>
      </div>
      <div class="col-lg-7 mb-50 wow animate__fadeInUp" data-wow-delay="0.25s">
        <div class="vs-room--video" data-bg-src="/assets/img/rooms/room-video-bg.jpg">
          <div class="vs-room--ex">
            <span class="vs-room--ex__num counter-style">
              <span class="counter-number" data-counter="13">Ayo!</span>
            </span>
            <h4 class="vs-room--ex__title">Belajar Seru di Piebo!</h4>
            <img src="/assets/img/rooms/ex-icon.svg" alt="ex icon" />
          </div>
        </div>
      </div>
    </div>
    <div id="qrHidden" style="display:none;"></div>
    <div class="row row-items"></div>
  </div>
</section>

<script src="https://cdnjs.cloudflare.com/ajax/libs/qrcodejs/1.0.0/qrcode.min.js"></script>
<script>
  $(function () {
    $.getJSON("/constants/hear.json", function (items) {
      const row = $(".row-items");
      items.forEach(item => {
        row.append(`
          <div class="col-lg-3 mb-30 wow animate__fadeInUp" data-wow-delay="0.25s">
            <div class="vs-room bg-color${Math.floor(Math.random() * 4) + 1} card-qrcode"
                data-id="${item.id}"
                data-title="${item.title}">
              <div class="text-center">
                <img src="${item.questionImg}" alt="${item.title}" class="rounded-4" style="width:100%; height:auto;" />
              </div>
            </div>
          </div>
        `);
      });
    });
    $(document).on("click", ".card-qrcode", function () {
      const id = $(this).data("id");
      const title = $(this).data("title") || "qr";
      const fileName = `${title}-${id}.png`;
      const url = `https://toddle.pixelionsolution.com?id=${id}`;
      $("#qrHidden").empty();
      new QRCode(document.getElementById("qrHidden"), {
        text: url,
        width: 600,
        height: 600
      });
      setTimeout(() => {
        const canvas = $("#qrHidden canvas")[0];
        if (!canvas) return alert("QR gagal dibuat");
        const dataURL = canvas.toDataURL("image/png");
        const a = document.createElement("a");
        a.href = dataURL;
        a.download = fileName;
        a.click();
      }, 300);
    });
  });
</script>